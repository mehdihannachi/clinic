{"changed":true,"filter":false,"title":"test","tooltip":"/app/routes/test","value":"module.exports = function(app, passport) {\n     var certificate = require('./../models/certificate');\n     var hospital = require('./../models/hospital');\n     var express = require('express');\n\n\n\n     app.get('/api/affichage', function(req, res, next) {\n         certificate.find(function(err, certificate) {\n             if (err) return next(err);\n             res.setHeader('Access-Control-Allow-Origin', '*');\n             res.json(certificate);\n         });\n     });\n\n\n     app.get('/api/ajout', function(req, res, next) {\n         certificate.create({\n             Name: req.body.name\n\n         }, function(err, certificate) {\n             if (err) return next(err);\n             res.setHeader('Access-Control-Allow-Origin', '*');\n             res.json(certificate);\n         });\n     });\n\n\n\n\n\n\n     app.get('/api/delete/:id', function(req, res, next) {\n         certificate.findByIdAndRemove(req.params.id, function(err) {\n             if (err) {\n                 res.json({\n                     error: err\n                 });\n             }\n             else {\n                 res.setHeader('Access-Control-Allow-Origin', '*');\n                 res.json({\n                     done: 1\n                 });\n             }\n         });\n     });\n\t\n\t\n\n\n    \n\t\n\n\n\n\n }\n ","undoManager":{"mark":-2,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":58,"column":1},"action":"insert","lines":["module.exports = function(app, passport) {","     var certificate = require('./../models/certificate');","     var hospital = require('./../models/hospital');","     var express = require('express');","","","","     app.get('/api/affichage', function(req, res, next) {","         certificate.find(function(err, certificate) {","             if (err) return next(err);","             res.setHeader('Access-Control-Allow-Origin', '*');","             res.json(certificate);","         });","     });","","","     app.get('/api/ajout', function(req, res, next) {","         certificate.create({","             Name: req.body.name","","         }, function(err, certificate) {","             if (err) return next(err);","             res.setHeader('Access-Control-Allow-Origin', '*');","             res.json(certificate);","         });","     });","","","","","","","     app.get('/api/delete/:id', function(req, res, next) {","         certificate.findByIdAndRemove(req.params.id, function(err) {","             if (err) {","                 res.json({","                     error: err","                 });","             }","             else {","                 res.setHeader('Access-Control-Allow-Origin', '*');","                 res.json({","                     done: 1","                 });","             }","         });","     });","\t","\t","","","    ","\t","","","",""," }"," "],"id":1}]]},"ace":{"folds":[],"scrolltop":456.54541873931885,"scrollleft":0,"selection":{"start":{"row":58,"column":1},"end":{"row":58,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":32,"state":"start","mode":"ace/mode/text"}},"timestamp":1483374165831}